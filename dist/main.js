(()=>{"use strict";var t={container:document.getElementsByTagName("ul")[0]},e={updateStorage:function(t){for(var e=0;e<Object.keys(t).length;e+=1){var a=Object.keys(t)[e],o=localStorage.getItem(a)?localStorage.getItem(a).split(","):[];o.push(t[a]),localStorage.setItem(a,o)}},sortStorage:function(){for(var t=localStorage.getItem("description")?localStorage.getItem("description").split(","):[],e=localStorage.getItem("status")?localStorage.getItem("status").split(","):[],a=localStorage.getItem("index")?localStorage.getItem("index").split(","):[],o=[],n=0;n<a.length;n+=1)o[n]=[t[n],e[n],a[n]];return o.sort((function(t,e){return t[2]>e[2]?1:-1})),o},updateDOM:function(){for(var a=e.sortStorage(),o=0;o<a.length;o+=1){var n=a[o][0],r="true"===a[o][1],s=t.container.children[o].firstChild.lastChild;t.container.children[o].firstChild.firstChild.checked=r,s.textContent=n}}};const a=e;var o={items:document.getElementsByTagName("li"),container:document.getElementsByTagName("ul")[0]};const n=function(t){var e=document.getElementsByClassName("ontop")[0],n=document.getElementsByClassName("onbottom")[0],r=Array.prototype.indexOf.call(o.container.children,e),s=a.sortStorage(),l=s.splice(r,1);s.splice(t,0,l[0]),localStorage.clear();for(var i=0;i<s.length;i+=1){var c={description:s[i][0],status:s[i][1],index:i};a.updateStorage(c)}e.classList.remove("ontop"),n.classList.remove("onbottom"),a.updateDOM()},r=function(t,e){t.preventDefault(),e.classList.add("onbottom")};var s={boxes:document.getElementsByClassName("status")},l={init:function(){for(var t=function(t){s.boxes[t].addEventListener("change",(function(){l.updateStatus(s.boxes[t],t)}))},e=0;e<s.boxes.length;e+=1)t(e)},updateStatus:function(t,e){var o=a.sortStorage();o[e][1]=t.checked,localStorage.clear();for(var n=0;n<o.length;n+=1){var r={description:o[n][0],status:o[n][1],index:o[n][2]};a.updateStorage(r)}a.updateDOM()}};const i=l;var c={container:document.getElementsByTagName("ul")[0],items:document.getElementsByTagName("li")},g={updateStorage:function(t){for(var e=0;e<Object.keys(t).length;e+=1){var a=Object.keys(t)[e],o=localStorage.getItem(a)?localStorage.getItem(a).split(","):[];o.push(t[a]),localStorage.setItem(a,o)}},sortStorage:function(){for(var t=localStorage.getItem("description")?localStorage.getItem("description").split(","):[],e=localStorage.getItem("status")?localStorage.getItem("status").split(","):[],a=localStorage.getItem("index")?localStorage.getItem("index").split(","):[],o=[],n=0;n<a.length;n+=1)o[n]=[t[n],e[n],a[n]];return o.sort((function(t,e){return t[2]>e[2]?1:-1})),o},createDOM:function(){for(var t=g.sortStorage(),e=function(e){var a=document.createElement("li");a.draggable=!0;var o="true"===t[e][1]?"checked":"";a.innerHTML="<nav><input type='checkbox' ".concat(o," class='status' name='completed'><p>").concat(t[e][0],'</p></nav><i class="fas fa-ellipsis-v"></i>');var s=c.container;s.children[e]?s.replaceChild(a,s.children[e]):s.appendChild(a),a.addEventListener("dragstart",(function(){a.classList.add("ontop")})),a.addEventListener("drop",(function(){n(e)})),a.addEventListener("dragover",(function(t){r(t,a)})),a.addEventListener("dragleave",(function(){a.classList.remove("onbottom")})),a.firstChild.firstChild.addEventListener("change",(function(){i.updateStatus(a.firstChild.firstChild,e)}))},a=0;a<t.length;a+=1)e(a)}};const d=g,u=[{description:"Make an eggplant lasagna",status:!1,index:2},{description:"Finish the project",status:!1,index:0},{description:"Play some Dungeon and Dragons",status:!1,index:1}];if(localStorage.getItem("index"))d.createDOM();else{for(var m=0;m<u.length;m+=1)d.updateStorage(u[m]);d.createDOM()}})();